# Растрова та векторна моделі зображень

Загалом, усі зображення КГ за принципом побудови можна поділити на растрові, векторні; фрактальні, тривимірні. Моделлю називають опис за певними правилами, враховуючи деякі припущення. Прийнято від способу формування розглядати растрову та векторну моделі зображень.

1. Поняття про растрову модель. Растрова модель** представляє зображення у вигляді комбінації точок (пікселів), яким притаманні свій колір та яскравість і які певним чином розташовані у координатній сітці. Піксель (Pixel) – це скорочення, утворене від терміну Picture Element (англ.). Растром називають матрицю пікселів. Поняття матриці вказує на розміщення пікселів за координатами по горизонталі та вертикалі.

Такий підхід є ефективним у випадку, коли графічне зображення має багато напівтонів й інформація про колір важливіша за інформацію про форму (фотографії та поліграфічні зображення). При редагуванні растрових об'єктів, користувач змінює колір точок, а не форми ліній. Растрові зображення називають точковими. 

Для опису розташування пікселів використовують систему координат. Координати пікселів утворюють дискретний ряд значень, найчастіше використовують цілі числа для нумерації.

Піксел (0,0) розміщено в лівому верхньому куті площини. Растрова графіка базується на відомих алгоритмах, у яких зручно використовуються координати точок. Адреса пікселя (2 координати) лінеризується, тобто за двома значеннями (положення по осі Х та по осі У) обчислюється одне значення.

Растр має кількісну та якісну характеристики. Кількісна характеристика растру – це розмір растра, тобто кількість пікселів по вертикалі та горизонталі. Записують цю характеристику як NxM, де N, M – відповідні кількості пікселів.

Якісна характеристика растру – це роздільна здатність, яка вказує кількість точок на одиницю довжини, вимірюється у точках на дюйм (dpi - dots per inch). Роздільна здатність залежить від вимог до якості зображення та розміру файлу, способу оцифрування або методу створення готового зображення, вибраного формату файлу та інших параметрів. Чим вище вимоги до якості, тим більша має бути роздільність.

Форма пікселів растра визначається особливостями пристрою графічного виводу. Піксели можуть мати прямокутну чи квадратну форми. Розмір піксела можуть дорівнювати кроку растра.

2.2. Типи зображень за глибиною кольору.** Глибина кольору - важливий параметр растрових зображень характеризує максимальну кількість кольорів, які використані у зображенні. задається кількістю біт.

Існує декілька типів зображень із різною глибиною кольору:

n  чорно-білі;

n  у відтінках сірого;

n  з індексованими кольорами;

n  повноколірні;

n    **Чорно-білі зображення**. На один піксел зображення відводиться 1 біт інформації - чорний та білий. Глибина кольору - 1 біт.

n    **Зображення у відтінках сірого**. Піксел сірого зображення кодується 8 бітами (1 байт). Глибина кольору - 8 біт, піксел може приймати 256 різних значень - від білого (255) до чорного (0 яскравості).

n    **Зображення з індексованими кольорами**. Перші кольорові монітори працювали з обмеженою колірною гамою (16, згодом 256 кольорів). Такі кольори називаються індексованими і кодуються 4 або 8 бітами у вигляді колірних таблиць. У такій таблиці всі кольори вже визначені і можна використовувати лише їх. Індексовані кольори використовують з метою економії обчислювальних ресурсівю

n    Повноколірні зображення. Глибина кольору не менше як 24 біти, що дає можливість відтворити понад 16 мільйонів відтінків. Повноколірні зображення називаються True Color (правдивий колір). Бітовий об'єм кожного піксела розподіляється по основних кольорах обраної колірної моделі, по 8 бітів на колір. Колірні складові організуються у вигляді каналів, спільне зображення каналів визначає колір зображення. Повноколірні зображення на відміну від вище розглянутих є багатоканальними і залежать від колірної моделі (RGB, CMY, CMYK, Lab, HBS), які різняться за глибиною кольорів і способом математичного опису кольорів.

Обробка растрових зображень стосується, в першу чергу, кольорів  та їх атрибутів. Ці задачі розв’язується найефективніше. Якщо обробка растрових зображень стосується зміни форми, то спостерігаються спотворення.

При збільшенні растрового зображення відбувається пікселізація, тобто при масштабуванні збільшується розмір точок і стають помітними елементи растра. Для усунення цього, потрібно заздалегідь оцифрувати оригінал із роздільністю, достатньої для якісного відтворення при масштабуванні. Або при масштабуванні застосовують метод інтерполяції, коли при збільшенні зображення, додається необхідне число проміжних точок. При зменшенні растрового зображення відбуваються спотворення, коли елементи растра накладаються один на одного.

### 2.3. Програмні системи та  формати файлів растрової графіки.** Прикладні програми растрової графіки призначені для обробки оцифрованих фотографій, відеокадрів, кадрів мультиплікаційних фільмів, створення книжкових та журнальних ілюстрацій.

Найпопулярнішими прикладними програмами є продукти фірм

n   Adobe - програма PhotoShop,

n   Corel – програма PhotoPaint,

n   Macromedia – програма FireWorks,

n   Fractal Design – програма Painter,

n   стандартний додаток у Windows - Paint.

### Популярні формати растрової графіки

n  Найпростіший растровий формат BMP є рідним форматом системи Windows, він підтримується всіма графічними редакторами, які працюють під її управлінням. Цей формат застосовується для збереження растрових зображень, призначених для використання в Windows (і, по суті, більше ні на що не придатний).

n  Найпопулярнішим форматом на інтернетівських просторах є достатньо вже давній формат GIF, запропонований CompuServe в 1987 році. Його особливістю є використання режиму індексованих кольорів (не більш 256), що обмежує область застосування формату зображень, які мають різкі кольорові переходи. Цей формат не може застосовуватися для поліграфії

n   Найпопулярнішим форматом для збереження фотографічних зображень є JPEG (или JPG) JPEG може зберігати тільки 24-бітові повнокольорові зображення. Хоча JPEG добре стискає фотографії, але цей стиск відбувається з втратами і псує якість, тим не менше, він може бути легко налаштований на мінімальні, практично непомітні для ока, втрати. Проте не варто використовувати JPEG для збереження зображень, які будуть опрацьовуватися, так як при кожному збереженні в цьому форматі процес погіршення якості зображення носить лавиноподібний характер. Таким чином, можна зберегти якість зображення при мінімальному розмірі файлу.

n   Як універсальний формат для зберігання растрових зображень пропонується формат TIFF, який досить широко використовується, в першу чергу, у видавничих системах, що вимагають зображення найкращої якості. До речі, можливість запису зображень у форматі TIFF є однією з ознак високого класу сучасних цифрових фотокамер. Завдяки своїй сумісності з більшістю професійного ПЗ для обробки зображень, формат TIFF дуже зручний при перенесенні зображень між комп'ютерами різних типів (наприклад, з PC на Маc і назад).

2.4. Переваги та недоліки растрової графіки.**

Переваги растрової графіки

n  простота автоматизованого вводу (оцифрування) зображень, фотографій, слайдів, рисунків за допомогою сканерів, відеокамер, цифрових фотоапаратів;

n   фотореалістичність. Можна отримувати різні ефекти, такі як туман, розмитість, тонко регулювати кольори, створювати глибину предметів тощо.

Недоліки растрової графіки

n     складність управління окремими фрагментами зображення. Потрібно самостійно виділяти ділянку, що є складним процесом;

n     ефекти спотворення при масштабуванні (“розмитість” при збільшенні, “ступінчастість” при зменшенні)

n     розмір файлу є пропорційним до площі зображення, роздільності і типу зображення, і, переважно, при хорошій якості є великим.

n     растрове зображення має певну роздільність і глибину представлення кольорів. Ці параметри можна змінювати лише у визначених межах і, як правило, із втратою якості;

Недолік , пов’язаний з масштабуванням, може бути вирішений спеціальними методами, що базуються на методах інтерполяції. Недолік, що стосується великих витрат пам’яті, може бути вирішений, якщо застосовувати спеціальні методи стиску зображень. 

**2.5. Поняття про векторну графіку. Векторна модель** описує зображення з допомогою базових примітивів. Базовий примітив – це команда пристрою побудувати певну лінію (вектор). Вектор розуміється як  лінія, звичайна, крива чи замкнута. Тобто це і відрізок, коло/еліпс, прямокутник і т.п. Примітиви визначаються типом пристрою відображення.

Лінія є елементарним об'єктом векторної графіки, якому притаманні певні особливості: форма, товщина, колір, стиль тощо. Будь-який об'єкт (прямокутник, еліпс, текст і навіть пряма лінія) сприймається як криві лінії.

Векторні зображення незамінні там, де принципове значення має збереження чітких контурів, а саме:

n  повноколірні ілюстрації;

n  складні креслення;

n  логотипи та емблеми;

n  графічні зображення для Web;

n  мультиплікація;

Основними складовими векторної моделі зображення є шлях, сегмент, вузол.

*Шлях* – це  маршрут, що з'єднує початкову та кінцеву точку. *Сегмент* - окрема частина шляху, може бути як прямою, так і кривою лінією. *Вузол* - початкова або кінцева точка сегмента. Кожен елемент векторної графіки містить ці три основні елементи і дозволяє їх редагування.

 Отже, векторні об'єкти завжди мають шлях, що визначає їх форму. Всі шляхи містять дві компоненти: сегменти та вузли. Якщо шлях є замкненим, тобто кінцева точка співпадає з початковою, об'єкт має внутрішню ділянку, яка може бути заповненою кольором або іншими об'єктами.

Заповнення можна розбити на 4 категорії:

n   *однорідне заповнення* одним кольором або штрихуванням;

n   *градієнтне*, при якому кольори або тіні поступово змінюються (лінійна, радіальна, конічна, прямокутна закономірність тощо);

n   *візерункове*, при якому об'єкт заповнюється повторювальними зображеннями (двоколірними або повноколірними);

n   *текстурне* заповнення (художні зображення). 

2.6. Математичні основи векторної графіки

n   Точка. Об'єкт на площині представляється двома числами (х, у) відносно початку координат.

n   Пряма лінія. Їй відповідає рівняння у=kx+b. Вказавши параметри k та b можна створити пряму лінію у відомій системі координат.

n   Сегмент прямої. Для опису потрібно додатково вказати параметри х1 та х2, відповідно початок та кінець відрізку.

n   Крива лінія ІІ порядку. До них належать еліпси, круги, параболи, гіперболи тощо. Пряма лінія є також випадком кривої ІІ порядку. Крива ІІ порядку не має точок перегину і описується рівнянням а0х2+а1у2+а2ху+а3х+а4у+а5=0. Для побудови відрізка кривої додатково потрібні ще два параметри початку та кінця відрізку.

n   Крива лінія ІІІ порядку. Важлива наявність точки перегину, що дозволяє відобразити різноманітні об'єкти. Рівняння кривої ІІІ порядку а0х3+а1у3+а2х2у+а3ху2+а4х2+а5у2+а6ху+а7х+а8у+а9=0. Для опису відрізка потрібні ще два параметри початку та кінця відрізку. Зауважимо, що пряма та криві ІІ порядку є частковим випадком кривих ІІІ порядку.

n   Криві Без'є. Спрощений вид кривих ІІІ порядку використовує кубічну криву Без'є. Метод побудови кубічних кривих Без'є заснований на використанні пари дотичних, що проведені до лінії в крайніх точках. На форму кривої лінії впливає кут нахилу дотичних та довжина її відрізка. Таким чином, дотичні відіграють роль віртуальних важелів, за допомогою яких керують формою кривої. Криві Безє вищих порядків будуються за точками, кількості більше 4. 

**2.7. Програмні системи та  формати файлів векторної графіки.** Прикладні програми векторної графіки призначені для технічних креслень, зображень ділового призначення, рекламних ілюстрацій.

Найпопулярнішими прикладними програмами є продукти фірм

n  Corel - CorelDraw,

n  Adobe - Illustrator,

n  Macromedia - FreeHand,

n  стандартний додаток у MS Office - Word Editor.

Серед векторних форматів, на відміну від растрових, ідея розумної стандартизації проявляється значно слабше.

Розробники практично всіх векторних графічних програм хочуть мати справу тільки зі своїми власними форматами, що пов'язано, швидше за все, зі специфікою алгоритмів формування векторного зображення.

Але, так як можливість перенесення файлів між різними додатками в векторній графіці не менш актуальна, ніж у растрової, то свого роду стандартом стали файлові формати двох найбільш популярних професійних графічних пакетів **- Adobe Illustrator і CorelDRAW**

Досить суперечливим є формат CDR, основний робочий формат популярного пакета CorelDRAW, що є незаперечним лідером у класі векторних графічних редакторів на платформі РС.

Маючи порівняно невисоку стійкість і проблеми із сумісністю файлів різних версій формату, тим не менш формат CDR можна назвати професійним.

EPS – використовується у видавничих системах, поєднує растрову і векторну графіки. Надійний та універсальний формат, “рідна” програма – Adobe Illustrator.

Чисто векторні формати AutoCAD DXF, Microsoft SYLK. Містять список примітивів або набір інструкцій команд для побудови примітивів, також можливо включати растрові об’єкти.

Важко відокремлювати поняття метафайли та векторні формати, тому їх часто розглядають як ідентичні.

WMF - рідний векторний формат Windows. Сприймається практично усіма програмами Windows, так чи інакше пов'язаними з векторною графікою. Однак, незважаючи на простоту і універсальність, користуватися форматом WMF варто тільки в крайніх випадках, оскільки він не може зберігати деякі параметри, які можуть бути присвоєні об'єктам в різних векторних редакторів, не сприймається Macintoshами, і, найголовніше, спотворює колірну схему зображення. 

**2.8. Переваги та недоліки векторної графіки.**

**Переваги векторної графіки**

n     невеликі за розміром файли, оскільки зберігається не зображення, а лише його основні дані, використовуючи які, програма відновлює зображення;

n     об'єкти легко трансформуються, ними легко маніпулювати. Редагуючи векторний об'єкт, можна змінити властивості ліній, з яких складається зображення. Можна пересувати об'єкт, змінювати його розміри, форму та колір, не впливаючи на якість зображення;

n     векторна графіка не залежить від роздільності, тобто векторні об'єкти відтворюють на пристроях з різною роздільністю без втрати якості зображення.

**Недоліки векторної графіки**

n  Низька фотореалістичність

n  Обмежена область застосування

n  Низька швидкість промальовування на растрових пристроях