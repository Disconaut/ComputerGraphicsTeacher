# Фрактальна графіка. Тривимірна графіка

## Крім растрової та векторної графіки окремо розглядають ще фрактальну графіку та тривимірну графіку.

##  

**3.1. Поняття про фрактальну графіку.**

Слово **фрактал** утворено від латинського **fractus** і в перекладі означає той, що *складається з фрагментів (подрібнений)*.

Термін “фрактал”запропоноване Бенуа Мандельбротом в 1975 році для позначення самоподібних структур. Народження фрактальної геометрії прийнято пов'язувати з виходом в 1977 році книги Мандельброта `*The Fractal Geometry of Nature'*.

Фракталом називається структура, що складається з частин, які в якомусь сенсі подібні до цілого.

В основі цього явища лежить дуже проста ідея : нескінчену по красі і різноманітності множину фігур можна отримати з відносно простих конструкцій за допомогою всього двох операцій - копіювання і масштабування.

Фрактали знаходять все більше й більше практичних застосувань у науці. Основна причина цього полягає в тому, що вони описують реальний світ іноді навіть краще, ніж традиційна фізика чи математика. Більшість просторових систем у природі є нерегулярним і фрагментарним, форма цих систем погано піддається опису апаратом евклідової геометрії.

Масштабна інваріантність, що спостерігається у фракталах, може бути або точною, або наближеною. Інваріантність - незмінність якої-небудь величини по відношенню до деяких перетворень.

Однією з основних властивостей фракталів є самоподібність.  У найпростішому випадку невелика частина фрактала містить інформацію про весь фрактал. Серед важливих властивостей фракталів з точки зору програмної реалізації ітераційність та рекурсивність фрактальних структур.

Фактично знайдений спосіб легкого представлення складних об'єктів, які схожі на природні. Тобто за допомогою декількох коефіцієнтів можна задати лінії і поверхні дуже складної форми. Фрактальна геометрія незамінна при генерації штучних хмар, гір, поверхні морів тощо.

Фрактальна графіка, як і векторна, заснована на математичних обчисленнях. Однак, базовим елементом є математична формула, ніяких об'єктів у пам'яті комп'ютера не зберігається і зображення будується виключно за формулами,рівняннями.

**3.2. Класифікація фракталів за способом побудови**

n  Геометричні

n  Алгебраїчні (рекурентні)

n  Стохастичні (випадкові)

Геометричні та [алгебраїчні фрактали](http://vns.lpnu.ua/mod/resource/view.php?id=264196) називають детермінованими. Окремо розглядають підвид фракталів, що утворюється через систему ітеруючих функцій – IFS-фрактали. 

**3.2.1. Геометричні фрактали**

Фрактали цього типу будуються поетапно. Спочатку зображується основа . Потім деякі частини основи замінюються на фрагмент . На кожному наступному етапі частини вже побудованої фігури , аналогічні заміненим частинам основи , знову замінюються на фрагмент , взятий у відповідному масштабі. Кожного разу масштаб зменшується. Коли зміни стають візуально непомітними , вважають , що побудована фігура добре наближає фрактал і дає уявлення про його форму . Однак насправді для отримання фрактала потрібно нескінченне число етапів. Міняючи основу і фрагмент , можна отримати багато різних геометричних фракталів .У двомірному випадку їх отримують за допомогою деякої ламаної (або поверхні в тривимірному випадку), яку наз. *генератором*.

За один крок алгоритму кожен з відрізків, складових ламаної, замінюється на ламану-генератор, у відповідному масштабі.

У результаті повторення цієї процедури, виходить геометричний фрактал.

Найвідоміші фрак тали такого типу - Сніжинка Коха, крива Коха, крива Гільберта-Пеано, множина Кантора, килим Серпінського, трикутник Серпінського, крива дракона, Т-Квадрат, губка Менгера…

Цей фрактал є межею нескінченної конструкції, що починається з трикутника та доповнюється рекурсивною заміною кожного сегменту набором із чотирьох сегментів, які утворюють трикутний «виступ».

**3.2.2. [Алгебраїчні фрактали](http://vns.lpnu.ua/mod/resource/view.php?id=264196)**

Це найбільша група фракталів. Отримують їх за допомогою нелінійних процесів в **n-мірних** просторах.

Для побудови алгебраїчних фракталів використовуються ітерації нелінійних відображень, що задаються простими алгебраїчними формулами.

Найбільш вивчені двомірні процеси.

Фрактали, що визначаються рекурентним відношенням в кожній точці простору (площина комплексних чисел).

###### Zi+1=F(Zi)

###### Zi=x+iy, i2=-1

Несподіванкою для математиків стала можливість за допомогою примітивних алгоритмів породжувати дуже складні нетривіальні структури.

Прикладами фракталів цього типу є множина Мандельброта, палаючий корабель, фрактал Ляпунова, басейни Ньютона, біоморфи...

 

Для фракталів Мандельброта правило f задано формулою : f(z ) = z2 + c , де z і c - комплексні числа. Кожній точці на прямій відповідає те чи інше дійсне число , а кожній точці на площині - комплексне . Для комплексних чисел, як і для дійсних , визначені операції додавання і множення. Множина Мандельброта - чорна область на ілюстраціях - складається з усіх таких c , що послідовність точок z0 = 0 ; z1 = 02 + с = c ; z2 = c2 + c ; z3 = ( c2 + с) 2 + с; ..і т.д. не прямує на нескінченність , тобто всі ці точки лежать всередині деякого кола з центром на початку координат. На збільшених зображеннях видно вкрай складна структура поблизу кордону.

б) Збільшена ділянка границі множини Мандельброта

Формули для побудови фракталів Ньютона засновані на методі вирішення нелінійних рівнянь , який був придуманий великим математиком ще в XVII столітті.

Застосовуючи загальну формулу методу Ньютона zn +1 = zn - f(zn)/f '(zn) , n = 0 , 1 , 2 , ... для вирішення рівняння f ( z ) = 0 до многочлену zk - a , отримаємо послідовність точок : zn +1 = ( ( k - 1 ) znk - a ) / kznk - 1 , n = 0 , 1 , 2 , .... Вибираючи як початкові наближення різні комплексні числа z0 , будемо отримувати послідовності , які сходяться до корення цього многочлена . Оскільки коренів у нього рівно k , то вся площину розбивається на k частин - областей тяжіння коренів. Межі цих частин мають фрактальну структуру.

**3.2.3. Стохастичні фрактали**

Такі фрак тали утворюються в тому випадку, якщо в ітераційному процесі випадковим чином міняти які-небудь його параметри. При цьому виходять об'єкти дуже схожі на природні – несиметричні дерева, порізані берегові лінії, рельєф місцевості і поверхні моря і т.д.

Представниками цього класу можна вважати траекторію броунівського руху, різні види рандомізованих фракталів, тобто таких, які можна отримати за допомогою рекурсивної процедури, в яку на кожному кроці введений випадковий параметр.

Спроможність фрактальної графіки застосовують для автоматичної генерації незвичайних ілюстрацій. Типовий представник даного класу фракталів «Плазма».

Для його побудови використовують прямокутник і для кожного його кута визначається колір. Далі знаходиться центральна точка прямокутника і розфарбовується  у колір рівний середньому арифметичному кольорів по кутах прямокутника плюс деяке випадкове число. Чим більше випадкове число - тим більш «рваним» буде малюнок. Якщо, наприклад, вважати, що колір точки - це висота над рівнем моря, то отримаєтьтся замість плазми - гірський масив. Саме на цьому принципі моделюються гори в більшості програм.

**3.2.4. Система ітеруючих функцій (****Iterated Functions System** **)**

IFS-метод з'явився в середині 80-х років як простий засіб отримання фрактальних структур.

IFS є системою функцій деякого фіксованого класу функцій, що відображають одну багатовимірну множину на іншу.

Найпростіша IFS складається з афінних перетворень :

A, B, C, D, E, F – деякі коефіцієнти.

У 1988 році відомі американські фахівці в теорії динамічних систем Барнслі і Слоан запропонували деякі ідеї, засновані на міркуваннях теорії динамічних систем, для стискування і зберігання графічної інформації.

Вони назвали свій метод методом фрактального стискування інформації. Походження назви пов'язане з тим, що геометричні фігури, що виникають в цьому методі, зазвичай мають фрактальну природу в сенсі Мандельброта.

На підставі цих ідей Барнслі і Слоан створили алгоритм, який, за їх твердженням, дозволить стискувати інформацію в 500-1000 разів.

За цим методом зображення кодується декількома простими перетвореннями (у нашому випадку афінними), тобто коефіцієнтами цих перетворень (A,B,C,D,E,F).

Наприклад, закодувавши якесь зображення двома афінними перетвореннями, ми однозначно визначаємо його за допомогою 12-ти коефіцієнтів.

Якщо тепер задатися якою-небудь початковою точкою (наприклад X=0 Y=0) і запустити ітераційний процес, то ми після першої ітерації отримаємо дві точки, після другої – чотири, після третьої – вісім і так далі. Через декілька десятків ітерацій сукупність отриманих точок описуватиме закодоване зображення.

Але проблема полягає в тому, що дуже важко знайти коефіцієнти IFS, які кодували б довільне зображення.

**3.3. Програмні системи та формати файлів фрактальної графіки.**

Фрактальний метод стиску використовується для економного збереження зображень без втрати якості. FIF (Fractal Image Format) – спеціальний формат файлів для фрактальних зображень.

Для синтезу зображень фрактальної графіки існує не дуже багато програмних продуктів. Серед них немає визнаного лідера, як в програмах растрової і векторної графіки. Також особливістю цих програм є те, що вони використовують фрактальний підхід до синтезу зображень разом із звичним набором інструментів растрової і векторної графіки. Відомі фрактальні редактори – Fractal Design Painter, Bruce, Fractint.

Фрактальна графіка у пакетах наукової візуалізації використовується для побудови ілюстрацій, що імітують природні процеси.

Серед таких програмних засобів продукти фірми Golden SoftWare:

*Surfer* - створення дво-, тривимірних поверхонь;

*Map Viewer* - побудова кольорових карт.

Surfer дозволяє опрацьовувати та візуалізувати двовимірні набори даних, що описані функцією z=f (x,y). Можна побудувати цифрову модель поверхні, застосувати допоміжні операції і візуалізувати результат.

Map Viewer дозволяє вводити та корегувати карти - змінювати масштаб, перетворювати координати, обробляти й виводити у графічному вигляді числову інформацію, пов'язану з картами.

Пакет *Iris Explorer* (фірма Graphics) призначено для створення моделей погодних умов та поверхонь океану.

Пакет *Earth Watch* (фірма Earth Watch) призначений для моделювання та демонстрації тривимірного зображення метеоумов над Землею, дозволяє будувати топологічні поверхні і прогнозувати погоду.

**.4. Поняття про тривимірну графіку.**

**3D графіка** (3 Dimensions) — один з розділів комп’ютерної графіки, який призначений для зображення об’ємних об’єктів (на площині).

Дана графіка застосовується в кінематографі, архітектурній справі, комп’ютерних іграх, поліграфії, науці та промисловості.

Основна відмінність від 2D графіки — опис і представлення зображення в трьох площинах, яке в подальшому перетворюється в 2D для виводу на екран або папір.

3D і 2D графіка тісно взаємоповязані між собою, оскільки тривимірна графіка використовує алгоритми 2D векторної і 2D растрової графіки.

Здебільшого для побудови 3D об’єкта достатньо мати уявлення про його лицевий вигляд, вигляд збоку та вигляд зверху.

У тривимірній комп'ютерній графіці всі об'єкти зазвичай представляються як набір поверхонь або частинок.

Мінімальну поверхню називають полігоном. В якості полігону зазвичай вибирають трикутники.

Тривимірна графіка для реалістичних зображень

3D-графіка призначена для імітації тривимірних образів об’єктів, які попередньо створюються в пам’яті комп’ютера в такій послідовності:

nпопередня підготовка,

nстворення геометричної моделі сцени,

n налаштовування освітлення і знімальних камер,

n підготовка і призначення матеріалів,

nвізуалізація сцени.

Таким чином створюється уявний світ, який часто називають віртуальним.

Тривимірна графіка використовує віртуальний простір, який називають **сценою**. У цьому просторі проектувальник розміщує необхідні об'єкти, призначає для них певний матеріал (дерево, залізо, скло тощо), розміщує джерела світла, а також віртуальні камери, що визначають точки перегляду сцени.

Під час відтворення тривимірної графіки на екрані комп'ютера будується геометрична проекція тривимірної моделі на площину екрану. Цей процес називають **рендерингом** або **візуалізацією**.

*Попередня підготовка* передбачає продумування складу сцени, розміщення об’єктів і їх деталей, які будуть видимими з передбачуваних напрямів спостереження.

На етапі *створення геометричної моделі сцени* за допомогою різноманітних інструментальних засобів будуються тривимірні геометричні моделі об’єктів сцени, після чого сцену можна розглядати і “фотографувати” з будь-якого потрібного ракурсу.

Налаштовування освітлення і знімальних камер* передбачає правильний вибір джерел світла, що дозволяє виконувати імітацію фотографування сцени в будь-яких умовах освітленості. Освітленість всіх об’єктів, тіні від них і бліки світла розраховуються автоматично.

Моделі знімальних камер дають можливість розглядати тривимірну сцену і виконувати її знімання під будь-яким вибраним кутом зору.

Підготовка і призначення матеріалів* надає сцені візуальної правдоподібності. Працюючи з матеріалами, можна налаштовувати такі їх якості, як сила блиску, прозорість, дзеркальність, рельєфність та інші. Реальні фотографії можна включати в склад матеріалів або використовувати для імітації фону.

*Візуалізація сцени* полягає в проведенні програмою розрахунків і нанесення на зображення всіх тіней, бліків, взаємних відблисків об’єктів і т. п.

Тобто для отримання тривимірного зображення потрібно виконати ***моделювання\*** - створення математичної моделі сцени і об’єктів в ній та ***рендерінг\*** (rendering) - побудова проекції відповідно до вибраної фізичної моделі . 

3.5. **Програмні системи та формати файлів тривимірної графіки.**

Програмні пакети, що дозволяють створювати тривимірну графіку, тобто моделювати об'єкти віртуальної реальності і створювати на основі цих моделей зображення (3d-редактори), дуже різноманітні. Останні роки стійкими лідерами в цій галузі є комерційні продукти: такі як 3D Studio Max, Maya, Lightwave 3D, Softimage, Sidefx Houdini, Maxon Cinema 4D,  Rhinoceros 3D, Nevercenter Silo, пакет Blender.

 Щоб отримати зображення тривимірного об'єкту, необхідно створити в програмі його об'ємну модель.

Модель об'єкту в багатьох 3d-редакторах  відображається в чотирьох вікнах проекцій, що дає якнайповніше уявлення про геометрію об'єкту.

 У тривимірній графіці використовується мова VRML (Virtual Realty Modelling Languagе), яка призначена для опису тривимірних зображень і оперує об'єктами, що описують геометричні фігури та їх розташування в просторі.

Мова була створена в 1994 році консорціумом на чолі з Silicon Graphics для застосування в мережах INTERNEТ. Чинним стандартом є VRML 97, відомий як ISO / IEC 1477.

Серед відомих форматів файлів *WRL*-файл – звичайний текстовий файл зі списком об'єктів, які названі вузлами (створений через VRML), *3**DS* – файл пакету 3D Studio MAX, який зберігає 3D-моделі у формі каркасних сіток, текстуру, ефекти тощо. *МАХ* – ще один формат 3D Studio MAX, а *X* – “рідний” формат DirectX, структурно- та контекстнонезалежний формат.